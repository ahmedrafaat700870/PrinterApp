@model PrinterApp.Models.ViewModels.PrintQueueViewModel

<tr class="detail-row" id="details-@Model.Id" style="display: none;">
    <td colspan="11" style="background: #f8f9fa; padding: 20px;">
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
            <!-- Stage 1: Order Information -->
            <div class="detail-section">
                <h5 style="color: var(--primary-color); margin-bottom: 15px; border-bottom: 2px solid var(--primary-color); padding-bottom: 5px;">
                    ğŸ“‹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ù„Ø¨
                </h5>
                <div class="detail-grid">
                    <div class="detail-item">
                        <span class="detail-label">Ø§Ù„Ù…ÙˆØ±Ø¯:</span>
                        <span class="detail-value">@(Model.SupplierName ?? "ØºÙŠØ± Ù…Ø­Ø¯Ø¯")</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Ù†ÙˆØ¹ Ø§Ù„Ø®Ø§Ù…:</span>
                        <span class="detail-value">@(Model.RawMaterialName ?? "ØºÙŠØ± Ù…Ø­Ø¯Ø¯")</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ø±ÙˆÙ„:</span>
                        <span class="detail-value">
                            @if (!string.IsNullOrEmpty(Model.RollDirectionImage))
                            {
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <img src="@Model.RollDirectionImage" 
                                         alt="Direction @Model.RollDirectionNumber" 
                                         style="width: 50px; height: 50px; object-fit: cover; border-radius: 5px; border: 2px solid var(--border-color);" />
                                    <span style="font-weight: bold; color: var(--primary-color);">@Model.RollDirectionNumber</span>
                                </div>
                            }
                            else
                            {
                                <span>@(Model.RollDirectionNumber ?? "ØºÙŠØ± Ù…Ø­Ø¯Ø¯")</span>
                            }
                        </span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Ø§Ù„Ø·ÙˆÙ„:</span>
                        <span class="detail-value">@Model.Length Ø³Ù…</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Ø§Ù„Ø¹Ø±Ø¶:</span>
                        <span class="detail-value">@Model.Width Ø³Ù…</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø·Ù„Ø¨:</span>
                        <span class="detail-value">@Model.OrderDate.ToString("yyyy-MM-dd")</span>
                    </div>
                </div>
            </div>

            <!-- Stage 2: Review Information -->
            <div class="detail-section">
                <h5 style="color: var(--info-color); margin-bottom: 15px; border-bottom: 2px solid var(--info-color); padding-bottom: 5px;">
                    ğŸ” Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©
                </h5>
                <div class="detail-grid">
                    <div class="detail-item">
                        <span class="detail-label">Ø§Ù„Ù…Ø§ÙƒÙŠÙ†Ø©:</span>
                        <span class="detail-value">@(Model.MachineName ?? "ØºÙŠØ± Ù…Ø­Ø¯Ø¯")</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Ø§Ù„Ù‚Ù„Ø¨ (Core):</span>
                        <span class="detail-value">@(Model.CoreName ?? "ØºÙŠØ± Ù…Ø­Ø¯Ø¯")</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Ø§Ù„Ø³ÙƒÙŠÙ†Ø©:</span>
                        <span class="detail-value">@(Model.KnifeName ?? "ØºÙŠØ± Ù…Ø­Ø¯Ø¯")</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Ø§Ù„ÙƒØ±ØªÙˆÙ†:</span>
                        <span class="detail-value">@(Model.CartonName ?? "ØºÙŠØ± Ù…Ø­Ø¯Ø¯")</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Ø§Ù„Ù‚Ø§Ù„Ø¨:</span>
                        <span class="detail-value">@(Model.MoldNumber ?? "ØºÙŠØ± Ù…Ø­Ø¯Ø¯")</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Ø±Ø§Ø¬Ø¹ Ø¨ÙˆØ§Ø³Ø·Ø©:</span>
                        <span class="detail-value">@(Model.ReviewedBy ?? "ØºÙŠØ± Ù…Ø­Ø¯Ø¯")</span>
                    </div>
                </div>
            </div>

            <!-- Stage 4: Printing Information -->
            <div class="detail-section">
                <h5 style="color: var(--success-color); margin-bottom: 15px; border-bottom: 2px solid var(--success-color); padding-bottom: 5px;">
                    ğŸ–¨ï¸ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©
                </h5>
                <div class="detail-grid">
                    <div class="detail-item">
                        <span class="detail-label">ØªØ§Ø±ÙŠØ® Ø¨Ø¯Ø¡ Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©:</span>
                        <span class="detail-value">@(Model.PrintingStartDate?.ToString("yyyy-MM-dd HH:mm") ?? "Ù„Ù… ØªØ¨Ø¯Ø£")</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Ø·Ø¨Ø¹ Ø¨ÙˆØ§Ø³Ø·Ø©:</span>
                        <span class="detail-value">@(Model.PrintedBy ?? "ØºÙŠØ± Ù…Ø­Ø¯Ø¯")</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Ø§Ù„Ø­Ø§Ù„Ø©:</span>
                        <span class="detail-value">
                            <span class="@Model.StatusBadgeClass">@Model.StatusText</span>
                        </span>
                    </div>
                </div>
            </div>

            <!-- Audit Information -->
            <div class="detail-section">
                <h5 style="color: var(--warning-color); margin-bottom: 15px; border-bottom: 2px solid var(--warning-color); padding-bottom: 5px;">
                    ğŸ“ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚
                </h5>
                <div class="detail-grid">
                    <div class="detail-item">
                        <span class="detail-label">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡:</span>
                        <span class="detail-value">@Model.CreatedDate.ToString("yyyy-MM-dd HH:mm")</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Ø£Ù†Ø´Ø¦ Ø¨ÙˆØ§Ø³Ø·Ø©:</span>
                        <span class="detail-value">@(Model.CreatedBy ?? "ØºÙŠØ± Ù…Ø­Ø¯Ø¯")</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Ø¢Ø®Ø± ØªØ¹Ø¯ÙŠÙ„:</span>
                        <span class="detail-value">@(Model.LastModified?.ToString("yyyy-MM-dd HH:mm") ?? "Ù„Ø§ ÙŠÙˆØ¬Ø¯")</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Ø¹Ø¯Ù„ Ø¨ÙˆØ§Ø³Ø·Ø©:</span>
                        <span class="detail-value">@(Model.ModifiedBy ?? "ØºÙŠØ± Ù…Ø­Ø¯Ø¯")</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Ù†Ø´Ø·:</span>
                        <span class="detail-value">
                            @if (Model.IsActive)
                            {
                                <span class="badge bg-success">âœ“ Ù†Ø´Ø·</span>
                            }
                            else
                            {
                                <span class="badge bg-secondary">âœ— ØºÙŠØ± Ù†Ø´Ø·</span>
                            }
                        </span>
                    </div>
                </div>
            </div>

            <!-- Attachments and Manufacturing Items Count -->
            <div class="detail-section">
                <h5 style="color: var(--primary-color); margin-bottom: 15px; border-bottom: 2px solid var(--primary-color); padding-bottom: 5px;">
                    ğŸ“ Ø§Ù„Ù…Ø±ÙÙ‚Ø§Øª ÙˆØ§Ù„ØªØµÙ†ÙŠØ¹
                </h5>
                <div class="detail-grid">
                    <div class="detail-item">
                        <span class="detail-label">Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø±ÙÙ‚Ø§Øª:</span>
                        <span class="detail-value">
                            @if (Model.AttachmentsCount > 0)
                            {
                                <span class="badge bg-info">@Model.AttachmentsCount Ù…Ø±ÙÙ‚</span>
                                <a asp-controller="Orders" asp-action="Details" asp-route-id="@Model.Id" 
                                   class="btn-sm btn-info" style="margin-right: 10px;">
                                    Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø±ÙÙ‚Ø§Øª
                                </a>
                            }
                            else
                            {
                                <span class="badge bg-secondary">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø±ÙÙ‚Ø§Øª</span>
                            }
                        </span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Ø¹Ø¯Ø¯ Ø¹Ù†Ø§ØµØ± Ø§Ù„ØªØµÙ†ÙŠØ¹:</span>
                        <span class="detail-value">
                            @if (Model.ManufacturingItemsCount > 0)
                            {
                                <span class="badge bg-info">@Model.ManufacturingItemsCount Ø¹Ù†ØµØ±</span>
                                <a asp-controller="Orders" asp-action="Details" asp-route-id="@Model.Id" 
                                   class="btn-sm btn-info" style="margin-right: 10px;">
                                    Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ù†Ø§ØµØ±
                                </a>
                            }
                            else
                            {
                                <span class="badge bg-secondary">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¹Ù†Ø§ØµØ±</span>
                            }
                        </span>
                    </div>
                </div>
            </div>
        </div>

        <div style="margin-top: 20px; text-align: center; border-top: 1px solid #dee2e6; padding-top: 15px;">
            <a asp-controller="Orders" asp-action="Details" asp-route-id="@Model.Id" 
               class="btn-primary-custom">
                ğŸ“„ Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙƒØ§Ù…Ù„Ø©
            </a>
            <a asp-action="PrintDetails" asp-route-id="@Model.Id" 
               class="btn-secondary-custom">
                ğŸ–¨ï¸ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©
            </a>
        </div>
    </td>
</tr>

<style>
    .detail-section {
        background: white;
        padding: 15px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .detail-grid {
        display: grid;
        gap: 12px;
    }

    .detail-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 8px 0;
        border-bottom: 1px solid #f0f0f0;
    }

    .detail-item:last-child {
        border-bottom: none;
    }

    .detail-label {
        font-weight: bold;
        color: var(--medium-gray);
        min-width: 120px;
    }

    .detail-value {
        text-align: left;
        flex: 1;
    }

    .btn-sm {
        padding: 4px 8px;
        font-size: 12px;
        border-radius: 4px;
        text-decoration: none;
        display: inline-block;
        color: white;
    }

    .btn-info {
        background: var(--info-color);
    }
</style>
