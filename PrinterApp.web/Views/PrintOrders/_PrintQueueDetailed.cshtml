@model PrinterApp.Models.ViewModels.PrintQueueViewModel

<tr class="detail-row" id="details-@Model.Id" style="display: none;">
    <td colspan="11" style="background: #f8f9fa; padding: 20px;">
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
            <!-- Stage 1: Order Information -->
            <div class="detail-section">
                <h5 style="color: var(--primary-color); margin-bottom: 15px; border-bottom: 2px solid var(--primary-color); padding-bottom: 5px;">
                    ๐ ูุนูููุงุช ุงูุทูุจ
                </h5>
                <div class="detail-grid">
                    <div class="detail-item">
                        <span class="detail-label">ุงูููุฑุฏ:</span>
                        <span class="detail-value">@(Model.SupplierName ?? "ุบูุฑ ูุญุฏุฏ")</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">ููุน ุงูุฎุงู:</span>
                        <span class="detail-value">@(Model.RawMaterialName ?? "ุบูุฑ ูุญุฏุฏ")</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">ุงุชุฌุงู ุงูุฑูู:</span>
                        <span class="detail-value">
                            @if (!string.IsNullOrEmpty(Model.RollDirectionImage))
                            {
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <img src="@Model.RollDirectionImage" 
                                         alt="Direction @Model.RollDirectionNumber" 
                                         style="width: 50px; height: 50px; object-fit: cover; border-radius: 5px; border: 2px solid var(--border-color);" />
                                    <span style="font-weight: bold; color: var(--primary-color);">@Model.RollDirectionNumber</span>
                                </div>
                            }
                            else
                            {
                                <span>@(Model.RollDirectionNumber ?? "ุบูุฑ ูุญุฏุฏ")</span>
                            }
                        </span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">ุงูุทูู:</span>
                        <span class="detail-value">@Model.Length ุณู</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">ุงูุนุฑุถ:</span>
                        <span class="detail-value">@Model.Width ุณู</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">ุชุงุฑูุฎ ุงูุทูุจ:</span>
                        <span class="detail-value">@Model.OrderDate.ToString("yyyy-MM-dd")</span>
                    </div>
                </div>
            </div>

            <!-- Stage 2: Review Information -->
            <div class="detail-section">
                <h5 style="color: var(--info-color); margin-bottom: 15px; border-bottom: 2px solid var(--info-color); padding-bottom: 5px;">
                    ๐ ูุนูููุงุช ุงููุฑุงุฌุนุฉ
                </h5>
                <div class="detail-grid">
                    <div class="detail-item">
                        <span class="detail-label">ุงููุงูููุฉ:</span>
                        <span class="detail-value">@(Model.MachineName ?? "ุบูุฑ ูุญุฏุฏ")</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">ุงูููุจ (Core):</span>
                        <span class="detail-value">@(Model.CoreName ?? "ุบูุฑ ูุญุฏุฏ")</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">ุงูุณูููุฉ:</span>
                        <span class="detail-value">@(Model.KnifeName ?? "ุบูุฑ ูุญุฏุฏ")</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">ุงููุฑุชูู:</span>
                        <span class="detail-value">@(Model.CartonName ?? "ุบูุฑ ูุญุฏุฏ")</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">ุงููุงูุจ:</span>
                        <span class="detail-value">@(Model.MoldNumber ?? "ุบูุฑ ูุญุฏุฏ")</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">ุฑุงุฌุน ุจูุงุณุทุฉ:</span>
                        <span class="detail-value">@(Model.ReviewedBy ?? "ุบูุฑ ูุญุฏุฏ")</span>
                    </div>
                </div>
            </div>

            <!-- Stage 4: Printing Information -->
            <div class="detail-section">
                <h5 style="color: var(--success-color); margin-bottom: 15px; border-bottom: 2px solid var(--success-color); padding-bottom: 5px;">
                    ๐จ๏ธ ูุนูููุงุช ุงูุทุจุงุนุฉ
                </h5>
                <div class="detail-grid">
                    <div class="detail-item">
                        <span class="detail-label">ุชุงุฑูุฎ ุจุฏุก ุงูุทุจุงุนุฉ:</span>
                        <span class="detail-value">@(Model.PrintingStartDate?.ToString("yyyy-MM-dd HH:mm") ?? "ูู ุชุจุฏุฃ")</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">ุทุจุน ุจูุงุณุทุฉ:</span>
                        <span class="detail-value">@(Model.PrintedBy ?? "ุบูุฑ ูุญุฏุฏ")</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">ุงูุญุงูุฉ:</span>
                        <span class="detail-value">
                            <span class="@Model.StatusBadgeClass">@Model.StatusText</span>
                        </span>
                    </div>
                </div>
            </div>

            <!-- Audit Information -->
            <div class="detail-section">
                <h5 style="color: var(--warning-color); margin-bottom: 15px; border-bottom: 2px solid var(--warning-color); padding-bottom: 5px;">
                    ๐ ูุนูููุงุช ุงูุชุฏููู
                </h5>
                <div class="detail-grid">
                    <div class="detail-item">
                        <span class="detail-label">ุชุงุฑูุฎ ุงูุฅูุดุงุก:</span>
                        <span class="detail-value">@Model.CreatedDate.ToString("yyyy-MM-dd HH:mm")</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">ุฃูุดุฆ ุจูุงุณุทุฉ:</span>
                        <span class="detail-value">@(Model.CreatedBy ?? "ุบูุฑ ูุญุฏุฏ")</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">ุขุฎุฑ ุชุนุฏูู:</span>
                        <span class="detail-value">@(Model.LastModified?.ToString("yyyy-MM-dd HH:mm") ?? "ูุง ููุฌุฏ")</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">ุนุฏู ุจูุงุณุทุฉ:</span>
                        <span class="detail-value">@(Model.ModifiedBy ?? "ุบูุฑ ูุญุฏุฏ")</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">ูุดุท:</span>
                        <span class="detail-value">
                            @if (Model.IsActive)
                            {
                                <span class="badge bg-success">โ ูุดุท</span>
                            }
                            else
                            {
                                <span class="badge bg-secondary">โ ุบูุฑ ูุดุท</span>
                            }
                        </span>
                    </div>
                </div>
            </div>

            <!-- Attachments and Manufacturing Items Count -->
            <div class="detail-section">
                <h5 style="color: var(--primary-color); margin-bottom: 15px; border-bottom: 2px solid var(--primary-color); padding-bottom: 5px;">
                    ๐ ุงููุฑููุงุช ูุงูุชุตููุน
                </h5>
                <div class="detail-grid">
                    <div class="detail-item">
                        <span class="detail-label">ุนุฏุฏ ุงููุฑููุงุช:</span>
                        <span class="detail-value">
                            @if (Model.AttachmentsCount > 0)
                            {
                                <span class="badge bg-info">@Model.AttachmentsCount ูุฑูู</span>
                                <a asp-controller="Orders" asp-action="Details" asp-route-id="@Model.Id" 
                                   class="btn-sm btn-info" style="margin-right: 10px;">
                                    ุนุฑุถ ุงููุฑููุงุช
                                </a>
                            }
                            else
                            {
                                <span class="badge bg-secondary">ูุง ููุฌุฏ ูุฑููุงุช</span>
                            }
                        </span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">ุนุฏุฏ ุนูุงุตุฑ ุงูุชุตููุน:</span>
                        <span class="detail-value">
                            @if (Model.ManufacturingItemsCount > 0)
                            {
                                <span class="badge bg-info">@Model.ManufacturingItemsCount ุนูุตุฑ</span>
                                <a asp-controller="Orders" asp-action="Details" asp-route-id="@Model.Id" 
                                   class="btn-sm btn-info" style="margin-right: 10px;">
                                    ุนุฑุถ ุงูุนูุงุตุฑ
                                </a>
                            }
                            else
                            {
                                <span class="badge bg-secondary">ูุง ููุฌุฏ ุนูุงุตุฑ</span>
                            }
                        </span>
                    </div>
                </div>
            </div>
        </div>

        <div style="margin-top: 20px; text-align: center; border-top: 1px solid #dee2e6; padding-top: 15px;">
            <a asp-controller="Orders" asp-action="Details" asp-route-id="@Model.Id" 
               class="btn-primary-custom">
                ๐ ุนุฑุถ ุงูุชูุงุตูู ุงููุงููุฉ
            </a>
            <a asp-action="PrintDetails" asp-route-id="@Model.Id" 
               class="btn-secondary-custom">
                ๐จ๏ธ ุชูุงุตูู ุงูุทุจุงุนุฉ
            </a>
        </div>
    </td>
</tr>

<style>
    .detail-section {
        background: white;
        padding: 15px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .detail-grid {
        display: grid;
        gap: 12px;
    }

    .detail-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 8px 0;
        border-bottom: 1px solid #f0f0f0;
    }

    .detail-item:last-child {
        border-bottom: none;
    }

    .detail-label {
        font-weight: bold;
        color: var(--medium-gray);
        min-width: 120px;
    }

    .detail-value {
        text-align: left;
        flex: 1;
    }

    .btn-sm {
        padding: 4px 8px;
        font-size: 12px;
        border-radius: 4px;
        text-decoration: none;
        display: inline-block;
        color: white;
    }

    .btn-info {
        background: var(--info-color);
    }
</style>
